# Longest subarray containing 1's ofter deleting one element
```python
class Solution(object):
    def longestSubarray(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        suffmax=[]
        result=[]
        c=0

        for i in nums :
            if i==1 :
                c+=1
            else :
                c=0
            suffmax.append(c)

        maxlen=max(suffmax)
        index=suffmax.index(maxlen)
        print(suffmax)
        
        if min(suffmax)==0 :
            i=0
            length=len(nums)
            while i < length-1 :
                if suffmax[i]!=0 and suffmax[i+1]!=0 :
                    suffmax.pop(i)
                    
                    length-=1
                else :
                    i+=1
            
            i=0
            print(suffmax)
            while i < len(suffmax)-2 :
                if suffmax[i]!=0 and suffmax[i+1]==0 and suffmax[i+2]!=0 :
                    maxlen=max(maxlen,suffmax[i]+suffmax[i+2])
                    i+=2
                else :
                    i+=1


        else :
            minnum=min(suffmax)
            if minnum!=0 :
                maxlen-=1

        return maxlen


        

